<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pass Saver - Sandra Diaz</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <!--<script src="./Scripts/passSaver.js"></script>-->
    <script src="scripts/home.js"></script>
    <script src="scripts/passSaver.js"></script>
  </head>
  <body>
    <div class="contenedor mt-3 border-1 border-dark h-auto w-100">
      <div class="cabecera-web bg-dark bg-opacity-50 d-flex">
        <p class="titulo-cabecera d-flex m-auto fs-3 fw-bold p-2 text-white text-uppercase">Pass Saver - Gestor de contraseñas</p>      
      </div>
      <!--*******************************************************-->
      <!--Izquierda: Menu botones - Derecha: Tabla con Categorias-->
      <div class="columnas-body d-flex flex-column h-auto w-auto ">
        <div class="botones-contenido d-flex align-items-center justify-content-center "> 
          <!-- <button class="boton-categoria btn btn-outline-primary mt-2">Todas las Categorías</button>
          <button class="boton-sitio btn btn-outline-info mt-2 me-5">Todos los Sitios web</button> -->
          <!-- <button class="boton-sitio w-100 btn btn-outline-info mt-2">Añadir</button> -->
          <!--cuando le das al boton añadir, aparecen dos nuevos botones-->
          <div class="botones-habilitados d-flex flex-row ms-5">
            <button type="button" id="myInput" class="modal-boton-sitio btn btn-outline-primary mt-4 m-3" data-bs-toggle="modal" data-bs-target="#AddCategoryModal">Nueva categoria</button>
            <button type="button" class="modal-boton-sitio btn btn-outline-info mt-4 m-3" data-bs-toggle="modal" data-bs-target="#passSaverModal" onload="asignOnClick()">Nuevo sitio web</button>
            <button><a href="passSaver.html">Pass Saver</a></button>
          </div>
        </div>
      </div>

       <!---------------------------------------------------->
      <!------------------- TABLA CATEGORIA------------------>
      <!---------------------------------------------------->
      <div class="categTabla d-flex w-100 me-2 mt-3">
        <!--Categoria-->
        <div class="categoriaSite m-2 w-25 h-auto bg-success border border-dark bg-white">
          <table class="table table-hover d-flex flex-column ">
            <thead class="table table-secondary bg-secondary text-center">
              <tr>
                <th scope="col">Categorias</th>
                <!-- <th scope="col">Editar</th>
                <th scope="col">Borrar</th> -->
              </tr>
            </thead>
            <tbody class="table table-white" id="categoriesTable">
              <!--En estatabla aparecerá el listado de sites web-->
            </tbody>
          </table>
        </div>
        
       <!--------------------------------------------------->
      <!------------------- TABLA SITIOS WEB---------------->
      <!---------------------------------------------------->
      <div class="columnas-body d-flex h-auto w-100">
        <!--Tabla Contenedor Sitios-->
        <div class="tablasInformacion contenedor-sitios container text-center mt-2">
          <table class="table table-hover opacity-100 table-bordered">
            <thead class="table table-primary opacity-100">
              <tr class="align-self-center">
                <th scope="col">Sites</th>
                <th scope="col">Url</th>
                <th scope="col">User</th>
                <th scope="col">Password</th>
                <th scope="col">Create</th>
                <th scope="col">Acciones</th>
                <!-- <th scope="col">Editar</th>
                <th scope="col">Borrar</th> -->
              </tr>
            </thead>
            <tbody class="table table-white" id="sitesTable">
              <!--En estatabla aparecerá el listado de sites web-->
            </tbody>
          </table>

        </div>
      </div >
      <!---------------------------------------------------->
      <!------------------- BOTONES ------------------------>
      <!---------------------------------------------------->
      <div class="d-flex flex-column d-none">
        <button class="boton-salir"><svg width="24px" height="24px" stroke-width="1.5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="#000000"><path d="M3 17V7a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z" stroke="#000000" stroke-width="1.5"></path><path d="M10 14.243l2.121-2.122m0 0L14.243 10m-2.122 2.121L10 10m2.121 2.121l2.122 2.122M6 8h1" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg> Cerrar</button>
        <button class="boton-borrar"><svg width="24px" height="24px" stroke-width="1.5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="#000000"><path d="M9.172 14.828L12.001 12m2.828-2.828L12.001 12m0 0L9.172 9.172M12.001 12l2.828 2.828M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg> Eliminar</button>
        <button class="boton-editar"><svg width="24px" height="24px" stroke-width="1.5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="#000000"><path d="M3 21h18M12.222 5.828L15.05 3 20 7.95l-2.828 2.828m-4.95-4.95l-5.607 5.607a1 1 0 00-.293.707v4.536h4.536a1 1 0 00.707-.293l5.607-5.607m-4.95-4.95l4.95 4.95" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg> Editar</button>
        <button class="boton-guardar"><svg width="24px" height="24px" stroke-width="1.5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="#000000"><path d="M3 19V5a2 2 0 012-2h11.172a2 2 0 011.414.586l2.828 2.828A2 2 0 0121 7.828V19a2 2 0 01-2 2H5a2 2 0 01-2-2z" stroke="#000000" stroke-width="1.5"></path><path d="M8.6 9h6.8a.6.6 0 00.6-.6V3.6a.6.6 0 00-.6-.6H8.6a.6.6 0 00-.6.6v4.8a.6.6 0 00.6.6zM6 13.6V21h12v-7.4a.6.6 0 00-.6-.6H6.6a.6.6 0 00-.6.6z" stroke="#000000" stroke-width="1.5"></path></svg> Guardar</button>
      </div>
        


      <!-------------------------------------------------------------------->
      <!----------------MODAL--AÑADIR NUEVA CATEGORIA ---------------------->
      <!-------------------------------------------------------------------->
      <div class="modal fade" id="addCategoryModal" tabindex="-1"  aria-labelledby="addCategoryModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="addCategoryModalLabel">Nueva Categoria</h1>
                <!--boton de cerrar modal (X)-->
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body d-flex flex-column">
                <p>Categoria</p>
                <!--este valor se guarda y se pasa a la tabla de categorias-->
                <input type="text" placeholder="escribe la nueva categoria" id="inputCategoria">
              </div>
              <div class="modal-footer">
                <!--botones interactivos de la modal-->
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn-success" onclick="AddCategory()">Guardar</button>
              </div>
          </div>
        </div>
      </div>
    </div>
      
      <!------------------------------------------------------------------->
      <!--------------MODAL -  AÑADIR SITIO WEB    ------------------------>
      <!------------------------------------------------------------------->
      <div class="modal fade" id="addCategoryModal" tabindex="-1" aria-labelledby="addCategoryModalLabel" aria-hidden="true">
          <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="addCategoryModalLabel">Nuevo Sitio Web</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body d-flex flex-column">
                <div class="d-flex flex-column mt-3 bg-light-subtle">
                  <p>Sitio web</p>
                  <input type="text">
                </div>
                <div class="d-flex flex-column mt-3 bg-danger-subtle">
                  <p>User</p>
                  <input type="text">
                </div>
                <div class="d-flex flex-column mt-3 bg-light-subtle">
                  <p>Password</p>
                  <input type="text">
                </div>
                <div class="d-flex flex-column mt-3 bg-info-subtle" >
                  <p>Descripcion</p>
                  <input type="text">
                </div>
              </div>
              <div class="modal-footer d-flex flex-row justify-content-center ">
                <button type="button" class="btn btn-dark w-25" data-bs-dismiss="modal">Salir</button>
                <button type="button" class="btn btn-success w-25" onclick="AddCategory()" data-bs-dismiss="modal">Guardar</button>
              </div>
          </div>
          </div>
      </div>
      
      <!------------------------------------------------------------------->
      <!--------------MODAL - VISUALIZAR SITIO WEB ------------------------>
      <!------------------------------------------------------------------->
      <div class="modal fade" id="verSitioWebModal" tabindex="-1" aria-labelledby="verSitioWebModalLabel" aria-hidden="true">
          <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="verSitioWebModalLabel">Editar</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body d-flex flex-column">
                <div class="d-flex flex-column mt-3 bg-info-subtle">
                  <p>Detalles</p>
                  <input type="text">
                </div>
              </div>
              <div class="modal-footer d-flex flex-row justify-content-center ">
                <button type="button" class="btn btn-secondary w-25" data-bs-dismiss="modal">Salir</button>
                <button type="button" class="btn btn-success w-25" onclick="verSitioWeb()">Guardar</button>
              </div>
          </div>
          </div>
      </div>
      <!------------------------------------------------------------------->
      <!---------------MODAL - BORRAR CATEGORIA    ------------------------>
      <!------------------------------------------------------------------->
      <div class="modal fade" id="DeleteCategoryModal" tabindex="-1" aria-labelledby="DeleteCategoryModalLabel" aria-hidden="true">
          <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="DeleteCategoryModalLabel">Delete Category | Borrar Categoria</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body d-flex flex-column">
                <div class="d-flex flex-column mt-3">
                  <h5 class="text-center bg-danger-subtle">Are you sure?</h5>
                  <hr>
                  <p class="text-center">¿Quieres borrar la categoria?</p>
                  <p id="categoriaABorrar">
                </div>
                <p>*Tambien se eliminarán todos los sitios web de esa categoria</p>
              </div>
              <div class="modal-footer d-flex flex-row justify-content-center ">
                <button type="button" class="btn btn-secondary w-25" data-bs-dismiss="modal">Salir</button>
                <button type="button" class="btn btn-danger w-25" id="acceptDeleteCategory" onclick="DeleteCategory()" data-bs-dismiss="modal">Eliminar</button><!--falta este boton-->
              </div>
          </div>
          </div>
      </div>
      
      <!------------------------------------------------------------------->
      <!---------------MODAL - BORRAR SITIO WEB    ------------------------>
      <!------------------------------------------------------------------->
      <div class="modal fade" id="DeleteSiteModal" tabindex="-1" aria-labelledby="DeleteSiteModalLabel" aria-hidden="true">
          <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="DeleteSiteModalLabel">Delete Site Web | Borrar sitio web</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body d-flex flex-column">
                <div class="d-flex flex-column mt-3">
                  <h5 class="text-center bg-danger-subtle">Are you sure?</h5>
                  <hr>
                  <p class="text-center">*¿Quieres borrar este sitio web?</p>
                </div>
              </div>
              <div class="modal-footer d-flex flex-row justify-content-center ">
                <button type="button" class="btn btn-dark w-25" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-danger w-25" id="acceptDeleteSite" onclick="DeleteSite()" data-bs-dismiss="modal">Eliminar</button><!--falta este boton-->
              </div>
          </div>
          </div>
      </div>
      
      <!------------------------------------------------------------------->
      <!----------------MODAL - ABRIR SITIO WEB    ------------------------>
      <!------------------------------------------------------------------->
      <div class="modal fade" id="OpenModal" tabindex="-1" aria-labelledby="OpenModalLabel" aria-hidden="true">
          <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="OpenModalLabel">Detalles del sitio web</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body d-flex flex-column">
                <div class="d-flex flex-column mt-3 bg-info-subtle">
                  <p>Sitio web: </p>
                </div>
                <div class="d-flex flex-column mt-3 bg-info-subtle">
                  <p>Usuario: __________________</p>
                </div>
                <div class="d-flex flex-column mt-3 bg-info-subtle">
                  <p>Password: __________________</p>
                </div>
              </div>
              <div class="modal-footer d-flex flex-row justify-content-center ">
                <button type="button" class="btn btn-secondary w-25" data-bs-dismiss="modal">Salir</button>
              </div>
          </div>
          </div>
      </div>
    </div>

    <!------------------------------------------------------------------->
    <!------------------     MODAL PASS SAVER    ------------------------>
    <!------------------------------------------------------------------->
    <div class="modal fade" id="passSaverModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-xl">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title link-success" id="exampleModalLabel">PassSaver | Añada su nuevo sitio web</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="row mb-3">
              <label for="inputName" class="col-sm-2 col-form-label bg-info-subtle">Site web</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" id="inputName" placeholder="name site web" />
              </div>
            </div>
            <div class="row mb-3">
              <label for="inputURL" class="col-sm-2 col-form-label bg-info-subtle">URL</label>
              <div class="col-sm-10">
                <input type="URL" class="form-control" id="inputURL" placeholder="https://www.yourweb.com"/>
              </div>
            </div>
            <div class="row mb-3">
              <label for="inputUser" class="col-sm-2 col-form-label bg-info-subtle" >User</label>
              <div class="col-sm-10">
                <input type="email" class="form-control" id="inputUser" placeholder="yourname@mail.com"/>
              </div>
            </div>
            <div class="row mb-3">
              <label for="inputPassword" class="col-sm-2 col-form-label bg-info-subtle">Password</label>
              <div class="col-sm-8">
                <input type="password" class="form-control" id="inputPassword" placeholder="create a password or generate a password"/>
              </div>
              <div class="col-1 d-flex justify-content-end ms-3">
                <button type="button" class="btn btn-outline-warning" id="showPassword" onclick="hidePassword()">
                  <?xml version="1.0" encoding="UTF-8"?><svg
                    width="24px"
                    height="24px"
                    stroke-width="1.5"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                    color="#000000">
                    <path
                      d="M12 14a2 2 0 100-4 2 2 0 000 4z"
                      stroke="#000000"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round">
                    </path>
                    <path
                      d="M21 12c-1.889 2.991-5.282 6-9 6s-7.111-3.009-9-6c2.299-2.842 4.992-6 9-6s6.701 3.158 9 6z"
                      stroke="#000000"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round">
                    </path>
                  </svg>
                </button>
                <button type="button" class="btn btn-dark ms-1" onclick="generatePassword()">
                  <?xml version="1.0" encoding="UTF-8"?><svg
                    width="24px"
                    height="24px"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                    color="#ffffff">
                    <path
                      d="M14 21H4a2 2 0 01-2-2V5a2 2 0 012-2h16a2 2 0 012 2v9"
                      stroke="#ffffff"
                      stroke-width="1.5"
                      stroke-linecap="round">
                    </path>
                    <path
                      d="M2 7h20M5 5.01l.01-.011M8 5.01l.01-.011M11 5.01l.01-.011M19.5 16v6m0 0L17 19.5m2.5 2.5l2.5-2.5"
                      stroke="#ffffff"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round">
                    </path>
                  </svg>
                </button>
              </div>
            </div>
            <div class="row mb-3">
              <label class="col-sm-2 col-form-label" for="floatingTextarea2">Description</label>
              <div class="col-sm-10">
                <textarea class="form-control" placeholder="Leave a comment here" id="inputDescription" style="height: 100px"></textarea>
              </div>
            </div>
            <div class="row mb-3"></div>
            <div class="modal-footer">
              <div class="d-flex justify-content-center">
                <button class="btn btn-dark w-100 me-4" data-bs-dismiss="modal">Salir</button>
                <button class="btn btn-success" id="submitBtn" onclick="onSubmit()">Guardar</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- <main>
      <ul></ul>
    </main>
    <script>
      let drawData = (data) => {
        data.forEach(category => {
          let parent = document.getElementsByTagName('ul')[0]
          let child = document.createElement('li')
          // child.innerText = JSON.stringify(category)
          child.innerText = category.name
          parent.appendChild(child)
        })
      }

      fetch("http://localhost:3000/categories")
        .then(res => res.json())
        .then(data => drawData(data))
    </script> -->
    <script src="scripts/home.js"></script>
    <script src="scripts/passSaver.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
  </body>
</html>